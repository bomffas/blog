---
import "./BlogList.css";

import {getCollection} from "astro:content";
import PostItem from "@components/PostItem/PostItem.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

posts.length = 4;
---
<section class='blog-list'>
	<h4 class="blog-list__main-title heading-one">
		The work I do,and business I help.
	</h4>
	<ul class="blog-list__list">
        {
            posts.map((post) => (
					<PostItem date={post.data.pubDate} heroImage={post.data.heroImage} id={post.id}
							  title={post.data.title}/>
            ))
        }
	</ul>
	<a href="/blog" class="button outline"> Read more </a>
</section>